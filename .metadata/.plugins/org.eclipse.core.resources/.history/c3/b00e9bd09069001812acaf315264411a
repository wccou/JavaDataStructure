package me.hitwcc.test;

import java.util.Arrays;

/**
 * 
 * Title:面试题33 二叉搜索树的后序遍历序列
 * Description:判断一个数组是不是某二叉搜索树的后序遍历序列
 * @author: wcc
 * @created: 2018年6月6日下午5:10:47
 */
public class Test33 {

	public Test33() {
		// TODO Auto-generated constructor stub
	}
	public boolean verifySequenceOfBST(int[] sequence) {
		if(sequence==null||sequence.length==0)
			return false;
		int length=sequence.length;
		int root=sequence[length-1];
		int cut=0;
		for(int i=0;i<length-1;i++){
			if(sequence[i]>root){
				cut=i;
				break;
			}
		}
		for(int j=cut;j<length-1;j++){
			if(sequence[j]<root)
				return false;
		}
		boolean left=true;
		if(cut>0)
			left=verifySequenceOfBST(Arrays.copyOfRange(sequence, 0, cut));
		boolean right=true;
		if(cut<length-1)
			right=verifySequenceOfBST(Arrays.copyOfRange(sequence, cut, length-1));

		return left&&right;
	}
}
